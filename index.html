<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Offline Task Logger</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        table { border-collapse: collapse; width: 100%; margin-top: 20px; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
        th { background-color: #f4f4f4; }
        input, select { padding: 5px; margin: 5px; }
    </style>
</head>
<body>
    <h1>Offline Task Logger</h1>

    <form id="taskForm">
        <input type="date" id="startDate" required>
        <input type="time" id="startTime" required>
        <input type="time" id="endTime" required>
        <input type="text" id="task" placeholder="Task description" required>
        <select id="rating" required>
            <option value="">Productivity rating</option>
            <option value="1">1 - Very Low</option>
            <option value="2">2 - Low</option>
            <option value="3">3 - Medium</option>
            <option value="4">4 - High</option>
            <option value="5">5 - Excellent</option>
        </select>
        <button type="submit">Add Task</button>
    </form>

    <table id="logsTable">
        <thead>
            <tr>
                <th>Date</th>
                <th>Time</th>
                <th>Task</th>
                <th>Productivity</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <script>
        function loadLogs() {
            const logs = JSON.parse(localStorage.getItem("taskLogs") || "[]");
            const tbody = document.querySelector("#logsTable tbody");
            tbody.innerHTML = "";

            logs.forEach(log => {
                const tr = document.createElement("tr");
                tr.innerHTML = `
                    <td>${log.date}</td>
                    <td>${log.start_time} to ${log.end_time}</td>
                    <td>${log.task}</td>
                    <td>${log.rating}</td>
                `;
                tbody.appendChild(tr);
            });
        }

        document.getElementById("taskForm").addEventListener("submit", function(e) {
            e.preventDefault();

            const log = {
                date: document.getElementById("startDate").value,
                start_time: document.getElementById("startTime").value,
                end_time: document.getElementById("endTime").value,
                task: document.getElementById("task").value.trim(),
                rating: document.getElementById("rating").value
            };

            const logs = JSON.parse(localStorage.getItem("taskLogs") || "[]");
            logs.push(log);
            localStorage.setItem("taskLogs", JSON.stringify(logs));

            loadLogs();
            this.reset();
        });

        // Load logs on page load
        loadLogs();
    </script>
</body>
</html>
